{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"ChromaDB Data Pipes \ud83d\udd87\ufe0f| Rediscover AI/ML the Unix Way","text":"<p>ChromaDB Data Pipes is a collection of tools to build data pipelines for Chroma DB, inspired by the Unix philosophy of \" do one thing and do it well\".</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install chromadb-data-pipes\n</code></pre>"},{"location":"#usage","title":"Usage","text":"<p>Get help:</p> <pre><code>cdp --help\n</code></pre>"},{"location":"#importing","title":"Importing","text":"<p>Import data from HuggingFace Datasets to <code>.jsonl</code> file:</p> <pre><code>cdp imp hf --uri \"hf:tazarov/chroma-qna?split=train\" &gt; chroma-qna.jsonl\n</code></pre> <p>Import data from HuggingFace Datasets to Chroma DB:</p> <p>The below command will import the <code>train</code> split of the given dataset to Chroma chroma-qna <code>chroma-qna</code> collection. The collection will be created if it does not exist and documents will be upserted.</p> <pre><code>cdp imp hf --uri \"hf://tazarov/chroma-qna?split=train\" | cdp imp chroma --uri \"http://localhost:8000/default_database/chroma-qna\" --upsert --create\n</code></pre>"},{"location":"#exporting","title":"Exporting","text":"<p>Export data from Chroma DB to <code>.jsonl</code> file:</p> <p>The below command will export the first 10 documents from the <code>chroma-qna</code> collection to <code>chroma-qna.jsonl</code> file.</p> <pre><code>cdp exp chroma --uri \"http://localhost:8000/default_database/chroma-qna\" --limit 10 &gt; chroma-qna.jsonl\n</code></pre> <p>Export data from Chroma DB to HuggingFace Datasets:</p> <p>The below command will export the first 10 documents with offset 10 from the <code>chroma-qna</code> collection to HuggingFace Datasets <code>tazarov/chroma-qna</code> dataset. The dataset will be uploaded to HF.</p> <p>Note</p> <p>Make sure you have <code>HF_TOKEN=hf_....</code> environment variable set. If you want your dataset to be private, add <code>--private</code> flag to the <code>cdp exp hf</code> command.</p> <pre><code>cdp exp chroma --uri \"http://localhost:8000/default_database/chroma-qna\" --limit 10 --offset 10 | cdp exp hf --uri \"hf://tazarov/chroma-qna-modified\"\n</code></pre> <p>To export a dataset to a file, use <code>--uri</code> with <code>file://</code> prefix:</p> <pre><code>cdp exp chroma --uri \"http://localhost:8000/default_database/chroma-qna\" --limit 10 --offset 10 | cdp exp hf --uri \"file://chroma-qna\"\n</code></pre> <p>Note</p> <p>The file is  relative to the current working directory.</p>"},{"location":"#transforming","title":"Transforming","text":"<p>Copy collection from one Chroma collection to another and re-embed the documents:</p> <pre><code>cdp exp chroma --uri \"http://localhost:8000/default_database/chroma-qna\" | cdp tx embed --ef default | cdp imp chroma --uri \"http://localhost:8000/default_database/chroma-qna-def-emb\" --upsert --create\n</code></pre> <p>Import dataset from HF to Chroma and embed the documents:</p> <pre><code>cdp imp hf --uri \"hf://tazarov/ds2?split=train\" | cdp tx embed --ef default | cdp imp chroma --uri \"http://localhost:8000/default_database/chroma-qna-def-emb-hf\" --upsert --create\n</code></pre>"},{"location":"#misc","title":"Misc","text":"<p>Count the number of documents in a collection:</p> <pre><code>cdp exp chroma --uri \"http://localhost:8000/default_database/chroma-qna\" | wc -l\n</code></pre>"}]}